{{ define "main" }}

<div class="post">
  <main role="main" class="article">
      <article class="single" itemscope itemtype="http://schema.org/BlogPosting">

        <!-- TODO: Clase bien para el titulo-->
        <h1 class="post-title headline">
          <a href="{{ .Permalink }}">{{ .Title | markdownify }}</a>
        </h1>

        <div class="meta">
          {{ partial "publish-date" . }}

          {{ with .Params.categories }}
            <span class="key">{{ if .Page.Date.IsZero }}published {{ end }}in</span>
            <span class="val">
            {{ range . }}
              <a href="{{ . | urlize | printf "categories/%s" | relURL }}">{{ . }}</a>
            {{ end }}
            </span>
          {{ end }}

          {{ with .Params.tags }}
            <br>
            <span class="key">tags:</span>
            <span class="val">
            {{ range . }}
              <a href="{{ . | urlize | printf "tags/%s" | relURL }}">{{ . }}</a>
            {{ end }}
            </span>
          {{ end }}

          {{ with .Params.Cover }}
            <img src="{{ . | absURL }}" class="post-cover" />
          {{ end }}
        </div>

        <section class="body" itemprop="articleBody">
          {{ .Content }}
        </section>
      </article>

      {{ if or .NextInSection .PrevInSection }}
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">{{ $.Site.Params.ReadOtherPosts }}</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          {{ if .NextInSection }}
          <span class="button previous">
            <a href="{{ .NextInSection.Permalink }}">
              <span class="button__icon">←</span>
              <span class="button__text">{{ .NextInSection.Title }}</span>
            </a>
          </span>
          {{ end }}
          {{ if .PrevInSection }}
          <span class="button next">
            <a href="{{ .PrevInSection.Permalink }}">
              <span class="button__text">{{ .PrevInSection.Title }}</span>
              <span class="button__icon">→</span>
            </a>
          </span>
          {{ end }}
        </div>
      </div>
      {{ end }}

      {{ partial "comments.html" . }}
  </main>
</div>
{{ end }}
